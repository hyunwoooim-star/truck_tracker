# ğŸ”§ Truck Tracker ëŒ€ê·œëª¨ ì ê²€ ë° ê°œì„  ê³„íš

**ì‘ì„±ì¼**: 2026-01-01
**ì‘ì„±ì**: Claude Code
**í”„ë¡œì íŠ¸**: Truck Tracker v1.0

---

## ğŸ“‹ ì´ê´„ ìš”ì•½

### í˜„ì¬ ìƒíƒœ
- **ì™„ì„±ë„**: 110% (Phase 1 ì™„ë£Œ)
- **ë°°í¬**: https://truck-tracker-fa0b0.web.app (ìš´ì˜ ì¤‘)
- **ë¹Œë“œ**: WSL Ubuntuì—ì„œë§Œ ê°€ëŠ¥ (Windows impellerc ë²„ê·¸)
- **í…ŒìŠ¤íŠ¸**: 658ê°œ í†µê³¼, 4ê°œ ì‹¤íŒ¨

### ë°œê²¬ëœ ì£¼ìš” ì´ìŠˆ
1. ğŸ”´ **ë„¤ì´ë²„/êµ¬ê¸€ ì›¹ ë¡œê·¸ì¸ ì˜¤ë¥˜** - í™•ì¸ í•„ìš”
2. ğŸ”´ **dart:html deprecated** - ë§ˆì´ê·¸ë ˆì´ì…˜ í•„ìš”
3. ğŸŸ¡ **í•˜ë“œì½”ë”© ë¬¸ìì—´ 100+ê°œ** - l10n ë§ˆì´ê·¸ë ˆì´ì…˜ í•„ìš”
4. ğŸŸ¡ **í…ŒìŠ¤íŠ¸ ì»¤ë²„ë¦¬ì§€ ë¶€ì¡±** - í•µì‹¬ ë¡œì§ í…ŒìŠ¤íŠ¸ ì—†ìŒ
5. ğŸ”µ **ì½”ë“œ í’ˆì§ˆ ê°œì„ ** - ì¤‘ë³µ ì œê±°, ì„±ëŠ¥ ìµœì í™”

---

# ğŸš¨ Phase 0: ì¦‰ì‹œ ìˆ˜ì • í•„ìš” (Critical)

## 0-1. ë¡œê·¸ì¸ ì‹œìŠ¤í…œ ì ê²€

### ğŸ“ ë„¤ì´ë²„ ë¡œê·¸ì¸ ë¶„ì„ ê²°ê³¼

**Cloud Functions** (`functions/index.js:775-884`)
```javascript
// Line 804: GET ë°©ì‹ìœ¼ë¡œ client_secret ì „ë‹¬ (ë³´ì•ˆ ìœ„í—˜)
const tokenUrl = `https://nid.naver.com/oauth2.0/token?...&client_secret=${secretValue}...`;
```

**í˜„ì¬ êµ¬í˜„ ìƒíƒœ**:
- âœ… Secretì€ Firebase defineSecretìœ¼ë¡œ ì•ˆì „í•˜ê²Œ ê´€ë¦¬
- âœ… ìƒì„¸ ë¡œê¹… ìˆìŒ (Line 793-801)
- âš ï¸ GET ë°©ì‹ìœ¼ë¡œ secret ë…¸ì¶œ ê°€ëŠ¥ì„±
- âš ï¸ ì—ëŸ¬ ë©”ì‹œì§€ê°€ í´ë¼ì´ì–¸íŠ¸ì— ê·¸ëŒ€ë¡œ ë…¸ì¶œ

**Flutter í´ë¼ì´ì–¸íŠ¸** (`auth_service.dart:407-429`)
- OAuth redirect â†’ `processNaverCallback()` í˜¸ì¶œ
- state ìƒì„±: `DateTime.now().millisecondsSinceEpoch.toString()`
- state ê²€ì¦ ì—†ìŒ (ì„œë²„ì—ì„œë„ ê²€ì¦ ì•ˆí•¨ - ê´œì°®ìŒ)

**ì§„ë‹¨**:
1. "no valid data in session" ì—ëŸ¬ëŠ” ë„¤ì´ë²„ APIì—ì„œ ë°œìƒ
2. ê°€ëŠ¥í•œ ì›ì¸:
   - code ë§Œë£Œ (300ì´ˆ ì œí•œ)
   - redirect_uri ë¶ˆì¼ì¹˜
   - client_secret ì„¤ì • ë¬¸ì œ

**ìˆ˜ì • ê³„íš**:
```
1. Firebase Consoleì—ì„œ NAVER_CLIENT_SECRET í™•ì¸
2. ë„¤ì´ë²„ ê°œë°œì ì„¼í„°ì—ì„œ redirect_uri í™•ì¸
   - í˜„ì¬: https://truck-tracker-fa0b0.web.app/oauth/naver/callback
3. Cloud Functions ë¡œê·¸ í™•ì¸í•˜ì—¬ ì‹¤ì œ ì—ëŸ¬ ì›ì¸ íŒŒì•…
4. (ì„ íƒ) GET â†’ POST ë³€ê²½ (ë³´ì•ˆ ê°•í™”)
```

### ğŸ“ êµ¬ê¸€ ë¡œê·¸ì¸ ë¶„ì„ ê²°ê³¼

**Flutter í´ë¼ì´ì–¸íŠ¸** (`auth_service.dart:155-204`)
```dart
// Line 169: ì›¹ì—ì„œ signInWithPopup ì‚¬ìš©
userCredential = await _auth.signInWithPopup(googleProvider);
```

**ì§„ë‹¨**:
- Firebase ë‚´ì¥ ë©”ì„œë“œ ì‚¬ìš©ìœ¼ë¡œ ì½”ë“œëŠ” ì •ìƒ
- Firebase Console ì„¤ì • í™•ì¸ í•„ìš”:
  1. Authentication â†’ Sign-in method â†’ Google í™œì„±í™”
  2. Authorized domainsì— `truck-tracker-fa0b0.web.app` ì¶”ê°€
  3. OAuth consent screen ì„¤ì •

**ìˆ˜ì • ê³„íš**:
```
1. Firebase Console ì„¤ì • í™•ì¸ (ìˆ˜ë™)
2. í•„ìš”ì‹œ Google Cloud Console OAuth ì„¤ì • í™•ì¸
3. í…ŒìŠ¤íŠ¸ í›„ ë¬¸ì œ ì§€ì†ì‹œ ì—ëŸ¬ ë¡œê¹… ê°•í™”
```

### ğŸ“ ì¹´ì¹´ì˜¤ ë¡œê·¸ì¸ ìƒíƒœ

**Cloud Functions** (`functions/index.js:697-769`)
- Client Secret ì—†ì´ ë™ì‘ (ì¹´ì¹´ì˜¤ ì„¤ì •)
- ì •ìƒ ì‘ë™ìœ¼ë¡œ ì˜ˆìƒ

---

## 0-2. dart:html Deprecated ë§ˆì´ê·¸ë ˆì´ì…˜

**íŒŒì¼**: `lib/features/auth/data/web_auth_helper.dart`

```dart
// Before (deprecated)
import 'dart:html' as html;

// After
import 'package:web/web.dart' as web;
import 'dart:js_interop';
```

**ìˆ˜ì • ë‚´ìš©**:
```dart
// web_auth_helper.dart ì „ì²´ ì¬ì‘ì„±
class WebAuthHelper {
  static void redirectToOAuth(String url) {
    if (kIsWeb) {
      web.window.location.href = url;
    }
  }
}
```

---

# ğŸ—‘ï¸ Phase 1: ë°ì´í„° ì´ˆê¸°í™”

## 1-1. ì‚­ì œ ëŒ€ìƒ

### Firebase Auth
| ìƒíƒœ | ì´ë©”ì¼ | ë¹„ê³  |
|------|--------|------|
| ìœ ì§€ | hyunwoooim@gmail.com | ê´€ë¦¬ì |
| ì‚­ì œ | ë‚˜ë¨¸ì§€ ì „ë¶€ | - |

### Firestore ì»¬ë ‰ì…˜
```
ì‚­ì œí•  ì»¬ë ‰ì…˜:
â”œâ”€â”€ trucks/*
â”œâ”€â”€ users/* (ê´€ë¦¬ì ì œì™¸)
â”œâ”€â”€ reviews/*
â”œâ”€â”€ orders/*
â”œâ”€â”€ favorites/*
â”œâ”€â”€ follows/*
â”œâ”€â”€ chatRooms/*
â”œâ”€â”€ checkins/*
â”œâ”€â”€ stampCards/*
â”œâ”€â”€ coupons/*
â”œâ”€â”€ userCoupons/*
â”œâ”€â”€ notifications/*
â”œâ”€â”€ owner_requests/*
â”œâ”€â”€ analytics/*
â”œâ”€â”€ posts/*
â”œâ”€â”€ comments/*
â””â”€â”€ notificationSettings/*
```

## 1-2. í…ŒìŠ¤íŠ¸ ê³„ì • ìƒì„±

| ì—­í•  | ì´ë©”ì¼ | ë¹„ë°€ë²ˆí˜¸ | íŠ¸ëŸ­ |
|------|--------|----------|------|
| ê´€ë¦¬ì | hyunwoooim@gmail.com | (ê¸°ì¡´) | - |
| ì‚¬ì¥ë‹˜1 | owner1@test.com | Test123! | ê³¨ëª©ì‹ë‹¹ ë‹­ê¼¬ì¹˜ |
| ì‚¬ì¥ë‹˜2 | owner2@test.com | Test123! | ì‹¬ì•¼ë¼ë©˜ |
| ì‚¬ì¥ë‹˜3 | owner3@test.com | Test123! | íŒŒë¦¬ì§€ì•µ í¬ë ˆí˜ |
| ê³ ê° | customer@test.com | Test123! | - |

## 1-3. í…ŒìŠ¤íŠ¸ íŠ¸ëŸ­ ë°ì´í„°

### íŠ¸ëŸ­ 1: ê³¨ëª©ì‹ë‹¹ ë‹­ê¼¬ì¹˜
```json
{
  "id": 1,
  "truckNumber": "ê³¨ëª©ì‹ë‹¹ ë‹­ê¼¬ì¹˜",
  "ownerEmail": "owner1@test.com",
  "foodType": "ê¼¬ì¹˜",
  "latitude": 37.5662,
  "longitude": 126.9779,
  "locationDescription": "ì‹œì²­ì—­ 2ë²ˆ ì¶œêµ¬",
  "isOpen": true,
  "menus": [
    {"name": "ìˆ¯ë¶ˆë‹­ê¼¬ì¹˜", "price": 4000},
    {"name": "ì–‘ë…ë‹­ê¼¬ì¹˜", "price": 4500},
    {"name": "ì¹˜ì¦ˆë‹­ê¼¬ì¹˜", "price": 5000}
  ]
}
```

### íŠ¸ëŸ­ 2: ì‹¬ì•¼ë¼ë©˜
```json
{
  "id": 2,
  "truckNumber": "ì‹¬ì•¼ë¼ë©˜",
  "ownerEmail": "owner2@test.com",
  "foodType": "ë¼ë©˜",
  "latitude": 37.5579,
  "longitude": 126.9392,
  "locationDescription": "ì‹ ì´Œì—­ 3ë²ˆ ì¶œêµ¬",
  "isOpen": false,
  "menus": [
    {"name": "ëˆì½”ì¸ ë¼ë©˜", "price": 9000},
    {"name": "ë¯¸ì†Œë¼ë©˜", "price": 8500},
    {"name": "ì°¨ìŠˆë™", "price": 8000}
  ]
}
```

### íŠ¸ëŸ­ 3: íŒŒë¦¬ì§€ì•µ í¬ë ˆí˜
```json
{
  "id": 3,
  "truckNumber": "íŒŒë¦¬ì§€ì•µ í¬ë ˆí˜",
  "ownerEmail": "owner3@test.com",
  "foodType": "ë””ì €íŠ¸",
  "latitude": 37.5563,
  "longitude": 126.9234,
  "locationDescription": "í™ëŒ€ ë†€ì´í„°",
  "isOpen": true,
  "menus": [
    {"name": "ëˆ„í…”ë¼ í¬ë ˆí˜", "price": 6000},
    {"name": "ë”¸ê¸° í¬ë ˆí˜", "price": 6500},
    {"name": "í–„ì¹˜ì¦ˆ í¬ë ˆí˜", "price": 5500}
  ]
}
```

## 1-4. ì´ˆê¸°í™” ì‹¤í–‰ ìˆœì„œ

```
1. Firebase Console â†’ Authentication â†’ ê³„ì • ì‚­ì œ (ê´€ë¦¬ì ì œì™¸)
2. Firebase Console â†’ Firestore â†’ ì»¬ë ‰ì…˜ ì‚­ì œ
3. ì•±ì—ì„œ í…ŒìŠ¤íŠ¸ ê³„ì • ì´ë©”ì¼ ê°€ì…
4. Firestoreì—ì„œ role ìˆ˜ë™ ë³€ê²½:
   - owner1@test.com â†’ role: "owner", ownedTruckId: 1
   - owner2@test.com â†’ role: "owner", ownedTruckId: 2
   - owner3@test.com â†’ role: "owner", ownedTruckId: 3
5. migrate_mock_data.dart ìˆ˜ì • í›„ ì‹¤í–‰
```

---

# ğŸ“± Phase 2: ì‚¬ì¥ë‹˜ ëŒ€ì‹œë³´ë“œ UI ê°œì„ 

## 2-1. í˜„ì¬ ë¬¸ì œì 

| ë¬¸ì œ | ì‹¬ê°ë„ | ì„¤ëª… |
|------|--------|------|
| ë„¤ë¹„ê²Œì´ì…˜ ë³µì¡ | ğŸ”´ | AppBar ì•„ì´ì½˜ì— ê¸°ëŠ¥ ìˆ¨ê¹€ |
| ì˜¨ë³´ë”© ë¶€ì¬ | ğŸ”´ | ì‹ ê·œ ì‚¬ì¥ë‹˜ ê°€ì´ë“œ ì—†ìŒ |
| ì •ë³´ ë¶„ì‚° | ğŸŸ¡ | í•µì‹¬ ì •ë³´ í•œëˆˆì— ì•ˆë³´ì„ |
| ì¼ê´€ì„± ë¶€ì¡± | ğŸŸ¡ | ê³ ê° ì•±ê³¼ UI ìŠ¤íƒ€ì¼ ì°¨ì´ |

## 2-2. ê°œì„  UI êµ¬ì¡°

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ğŸª ë‚´ íŠ¸ëŸ­ ê´€ë¦¬        [ì•Œë¦¼] [ì„¤ì •] â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚ â”‚ ğŸŸ¢ ì˜ì—… ì¤‘                       â”‚ â”‚
â”‚ â”‚ ğŸ“ ì‹œì²­ì—­ 2ë²ˆ ì¶œêµ¬              â”‚ â”‚
â”‚ â”‚         [ì˜ì—… ì¢…ë£Œ]             â”‚ â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ ğŸ“Š ì˜¤ëŠ˜ í˜„í™©                        â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”   â”‚
â”‚ â”‚ ì£¼ë¬¸ â”‚ â”‚ ë§¤ì¶œ â”‚ â”‚ ë°©ë¬¸ â”‚ â”‚ ë¦¬ë·° â”‚   â”‚
â”‚ â”‚  12  â”‚ â”‚ 45ë§Œ â”‚ â”‚  28  â”‚ â”‚ 4.8 â”‚   â”‚
â”‚ â””â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”˜   â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ âš¡ ë¹ ë¥¸ ì‹¤í–‰                        â”‚
â”‚ [ğŸ“‹ ì£¼ë¬¸ê´€ë¦¬] [ğŸ“· QR í‘œì‹œ] [ğŸ’µ ë§¤ì¶œ]â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ ğŸ½ï¸ ë©”ë‰´ ê´€ë¦¬                [ì „ì²´>] â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚ â”‚ë‹­ê¼¬ì¹˜   â”‚ â”‚ì–‘ë…ë‹­ê¼¬ì¹˜â”‚ â”‚ì¹˜ì¦ˆë‹­ê¼¬ì¹˜â”‚ â”‚
â”‚ â”‚ 4,000ì›â”‚ â”‚ 4,500ì› â”‚ â”‚ 5,000ì›â”‚ â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ ğŸ“… ì´ë²ˆ ì£¼ ì¼ì •                     â”‚
â”‚ ì›” 17:00-23:00 | í™” 17:00-23:00 ...â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
â”‚      [í™ˆ]  [ì£¼ë¬¸]  [í†µê³„]  [ë”ë³´ê¸°]  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## 2-3. Bottom Navigation êµ¬ì¡°

| íƒ­ | ì•„ì´ì½˜ | í™”ë©´ | ê¸°ëŠ¥ |
|----|--------|------|------|
| í™ˆ | ğŸ  | OwnerHomeTab | ëŒ€ì‹œë³´ë“œ ë©”ì¸ |
| ì£¼ë¬¸ | ğŸ“‹ | OwnerOrdersTab | ì¹¸ë°˜ ë³´ë“œ (ëŒ€ê¸°â†’ì¤€ë¹„ì¤‘â†’ì™„ë£Œ) |
| í†µê³„ | ğŸ“Š | OwnerAnalyticsTab | ë§¤ì¶œ/ë°©ë¬¸/ë¦¬ë·° ì°¨íŠ¸ |
| ë”ë³´ê¸° | â‹¯ | OwnerMoreTab | ë©”ë‰´, ì¼ì •, ë¦¬ë·°, ì„¤ì • |

## 2-4. ìˆ˜ì • íŒŒì¼

| íŒŒì¼ | ë³€ê²½ì‚¬í•­ |
|------|----------|
| `owner_dashboard_screen.dart` | BottomNavigationBar ì¶”ê°€, íƒ­ êµ¬ì¡°ë¡œ ì¬êµ¬ì„± |
| ì‹ ê·œ: `widgets/owner_status_card.dart` | ì˜ì—… ìƒíƒœ ì¹´ë“œ |
| ì‹ ê·œ: `widgets/owner_stats_row.dart` | ì˜¤ëŠ˜ í˜„í™© í†µê³„ |
| ì‹ ê·œ: `widgets/owner_quick_actions.dart` | ë¹ ë¥¸ ì‹¤í–‰ ë²„íŠ¼ë“¤ |
| ì‹ ê·œ: `widgets/owner_menu_preview.dart` | ë©”ë‰´ ë¯¸ë¦¬ë³´ê¸° |
| ì‹ ê·œ: `tabs/owner_home_tab.dart` | í™ˆ íƒ­ |
| ì‹ ê·œ: `tabs/owner_orders_tab.dart` | ì£¼ë¬¸ íƒ­ |
| ì‹ ê·œ: `tabs/owner_analytics_tab.dart` | í†µê³„ íƒ­ |
| ì‹ ê·œ: `tabs/owner_more_tab.dart` | ë”ë³´ê¸° íƒ­ |

---

# ğŸ“ Phase 3: ì‚¬ì¥ë‹˜ ì˜¨ë³´ë”© ì‹œìŠ¤í…œ

## 3-1. ì˜¨ë³´ë”© í”Œë¡œìš°

```
[ì‚¬ì¥ë‹˜ ìŠ¹ì¸]
     â†“
[ì˜¨ë³´ë”© í™”ë©´ í‘œì‹œ]
     â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  1. í™˜ì˜ í™”ë©´    â”‚ â†’ ì˜¨ë³´ë”© ì„¤ëª…
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  2. íŠ¸ëŸ­ ì •ë³´    â”‚ â†’ íŠ¸ëŸ­ëª…, ìŒì‹ì¢…ë¥˜, ì´ë¯¸ì§€
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  3. ë©”ë‰´ ë“±ë¡    â”‚ â†’ ìµœì†Œ 1ê°œ ë©”ë‰´ í•„ìˆ˜
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  4. ì¼ì • ì„¤ì •    â”‚ â†’ ì£¼ê°„ ì˜ì—… ì‹œê°„
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  5. ì™„ë£Œ!       â”‚ â†’ ì¶•í•˜ ì• ë‹ˆë©”ì´ì…˜
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
     â†“
[ëŒ€ì‹œë³´ë“œë¡œ ì´ë™]
```

## 3-2. ë‹¨ê³„ë³„ í™”ë©´

### Step 1: í™˜ì˜
- ì¶•í•˜ ë©”ì‹œì§€ + íŠ¸ëŸ­ ì•„ì´ì½˜ ì• ë‹ˆë©”ì´ì…˜
- "5ë¶„ë§Œ íˆ¬ìí•´ì„œ íŠ¸ëŸ­ì„ ì„¤ì •í•´ë³´ì„¸ìš”"
- [ì‹œì‘í•˜ê¸°] ë²„íŠ¼

### Step 2: íŠ¸ëŸ­ ì •ë³´
- íŠ¸ëŸ­ëª… (í•„ìˆ˜)
- ìŒì‹ ì¢…ë¥˜ ì„ íƒ (í•„ìˆ˜)
- íŠ¸ëŸ­ ëŒ€í‘œ ì´ë¯¸ì§€ (ì„ íƒ)
- ì—°ë½ì²˜ (ì„ íƒ)

### Step 3: ë©”ë‰´ ë“±ë¡
- ìµœì†Œ 1ê°œ ë©”ë‰´ í•„ìˆ˜
- ë©”ë‰´ëª…, ê°€ê²©, ì„¤ëª…
- ë©”ë‰´ ì´ë¯¸ì§€ (ì„ íƒ)
- [+ ë©”ë‰´ ì¶”ê°€] ë²„íŠ¼

### Step 4: ì¼ì • ì„¤ì •
- ìš”ì¼ë³„ ì˜ì—… ì—¬ë¶€ í† ê¸€
- ì‹œì‘/ì¢…ë£Œ ì‹œê°„ ì„ íƒ
- ê¸°ë³¸ê°’: í‰ì¼ 17:00-23:00

### Step 5: ì™„ë£Œ
- ì¶•í•˜ ì• ë‹ˆë©”ì´ì…˜ (Lottie)
- "íŠ¸ëŸ­ ì„¤ì •ì´ ì™„ë£Œë˜ì—ˆìŠµë‹ˆë‹¤!"
- [ëŒ€ì‹œë³´ë“œë¡œ ì´ë™] ë²„íŠ¼

## 3-3. ì‹ ê·œ íŒŒì¼ êµ¬ì¡°

```
lib/features/owner_onboarding/
â”œâ”€â”€ presentation/
â”‚   â”œâ”€â”€ owner_onboarding_screen.dart
â”‚   â”œâ”€â”€ steps/
â”‚   â”‚   â”œâ”€â”€ welcome_step.dart
â”‚   â”‚   â”œâ”€â”€ truck_info_step.dart
â”‚   â”‚   â”œâ”€â”€ menu_step.dart
â”‚   â”‚   â”œâ”€â”€ schedule_step.dart
â”‚   â”‚   â””â”€â”€ complete_step.dart
â”‚   â””â”€â”€ widgets/
â”‚       â”œâ”€â”€ step_indicator.dart
â”‚       â””â”€â”€ onboarding_button.dart
â”œâ”€â”€ data/
â”‚   â””â”€â”€ onboarding_repository.dart
â””â”€â”€ domain/
    â””â”€â”€ onboarding_state.dart
```

## 3-4. Firestore ìŠ¤í‚¤ë§ˆ

```javascript
// trucks/{truckId}ì— í•„ë“œ ì¶”ê°€
{
  // ê¸°ì¡´ í•„ë“œë“¤...
  "onboardingCompleted": boolean,
  "onboardingCompletedAt": timestamp,
  "onboardingStep": number // 0-5
}
```

---

# âœ… Phase 4: ì˜ì—… ìŠ¹ì¸ ìš”ì²­ ê¸°ëŠ¥

## 4-1. í˜„ì¬ ìƒíƒœ

- âœ… ì‚¬ì¥ë‹˜ ì¸ì¦ ìš”ì²­ (`owner_requests`)
- âœ… ê´€ë¦¬ì ìŠ¹ì¸ í™”ë©´ (`admin_screen.dart`)
- âŒ ì˜ì—… ìŠ¹ì¸ (ì˜¨ë³´ë”© ì™„ë£Œ í›„) ì—†ìŒ

## 4-2. ì˜ì—… ìŠ¹ì¸ í”Œë¡œìš°

```
[ì˜¨ë³´ë”© ì™„ë£Œ]
     â†“
[ì˜ì—… ìŠ¹ì¸ ìš”ì²­ ë²„íŠ¼]
     â†“
[ìŠ¹ì¸ ëŒ€ê¸° ìƒíƒœ] â† ëŒ€ì‹œë³´ë“œì— í‘œì‹œ
     â†“
[ê´€ë¦¬ì ê²€í† ]
     â†“
[ìŠ¹ì¸] â†’ ì˜ì—… ì‹œì‘ ê°€ëŠ¥
  or
[ë°˜ë ¤] â†’ ìˆ˜ì • í›„ ì¬ì‹ ì²­
```

## 4-3. Firestore ìŠ¤í‚¤ë§ˆ

```javascript
business_approvals/{truckId}
{
  truckId: string,
  ownerId: string,
  ownerEmail: string,
  truckName: string,
  menuCount: number,
  scheduleSet: boolean,
  imageUploaded: boolean,
  status: "pending" | "approved" | "rejected",
  submittedAt: timestamp,
  reviewedAt: timestamp,
  reviewedBy: string,
  rejectionReason: string
}
```

## 4-4. ìˆ˜ì • íŒŒì¼

| íŒŒì¼ | ë³€ê²½ì‚¬í•­ |
|------|----------|
| `admin_screen.dart` | ì˜ì—… ìŠ¹ì¸ íƒ­ ì¶”ê°€ |
| `owner_dashboard_screen.dart` | ìŠ¹ì¸ ëŒ€ê¸° ë°°ë„ˆ ì¶”ê°€ |
| ì‹ ê·œ: `business_approval_repository.dart` | CRUD |
| ì‹ ê·œ: `widgets/approval_pending_banner.dart` | UI |

---

# ğŸ§¹ Phase 5: ì½”ë“œ í’ˆì§ˆ ê°œì„ 

## 5-1. í•˜ë“œì½”ë”© ë¬¸ìì—´ l10n ë§ˆì´ê·¸ë ˆì´ì…˜

**ë°œê²¬ëœ íŒŒì¼** (100+ ë¬¸ìì—´):
- `truck_list_screen.dart`: 8ê°œ
- `login_screen.dart`: 10ê°œ+
- `owner_dashboard_screen.dart`: 15ê°œ+
- ê¸°íƒ€ í™”ë©´ë“¤

**ì‘ì—… ë‚´ìš©**:
```dart
// Before
Text('ê²€ìƒ‰ ì¡°ê±´ì„ ë³€ê²½í•´ ë³´ì„¸ìš”')

// After
Text(l10n.searchSuggestion)
```

## 5-2. Deprecated API ë§ˆì´ê·¸ë ˆì´ì…˜

| íŒŒì¼ | í˜„ì¬ | ë³€ê²½ |
|------|------|------|
| `web_auth_helper.dart` | `dart:html` | `package:web` |

## 5-3. Null Safety ê°œì„ 

**íŒŒì¼**:
- `checkin_repository.dart:60` - unnecessary_null_comparison
- `visit_history_screen.dart:104, 153` - dead code

## 5-4. ì„±ëŠ¥ ìµœì í™”

| ì´ìŠˆ | íŒŒì¼ | í•´ê²° |
|------|------|------|
| setState ê³¼ë‹¤ | `login_screen.dart` | StateNotifier ì‚¬ìš© |
| Firestore ì¤‘ë³µ ì¿¼ë¦¬ | `truck_provider.dart` | Stream ì¬ì‚¬ìš© |

---

# ğŸ“… ì‹¤í–‰ ìˆœì„œ

## ğŸ”´ Week 1: ê¸´ê¸‰ ìˆ˜ì •
```
Day 1:
  â–¡ ë¡œê·¸ì¸ ë¬¸ì œ ì§„ë‹¨ (Firebase Console, ë„¤ì´ë²„ ê°œë°œì ì„¼í„° í™•ì¸)
  â–¡ dart:html â†’ package:web ë§ˆì´ê·¸ë ˆì´ì…˜

Day 2:
  â–¡ ë°ì´í„° ì´ˆê¸°í™” (Firebase Console)
  â–¡ í…ŒìŠ¤íŠ¸ ê³„ì • ìƒì„±

Day 3:
  â–¡ í…ŒìŠ¤íŠ¸ íŠ¸ëŸ­ ë°ì´í„° ìƒì„± (migrate_mock_data.dart)
  â–¡ ì „ì²´ ì•± í…ŒìŠ¤íŠ¸
```

## ğŸŸ¡ Week 2: ì‚¬ì¥ë‹˜ ëŒ€ì‹œë³´ë“œ ê°œì„ 
```
Day 1-2:
  â–¡ BottomNavigationBar êµ¬ì¡° êµ¬í˜„
  â–¡ íƒ­ë³„ í™”ë©´ ë¶„ë¦¬

Day 3-4:
  â–¡ í™ˆ íƒ­ UI ê°œì„  (ìƒíƒœ ì¹´ë“œ, í†µê³„, ë¹ ë¥¸ ì‹¤í–‰)
  â–¡ ì£¼ë¬¸ íƒ­ ì¹¸ë°˜ ë³´ë“œ

Day 5:
  â–¡ í†µê³„/ë”ë³´ê¸° íƒ­
  â–¡ í…ŒìŠ¤íŠ¸
```

## ğŸ”µ Week 3: ì‚¬ì¥ë‹˜ ì˜¨ë³´ë”©
```
Day 1-2:
  â–¡ ì˜¨ë³´ë”© í™”ë©´ êµ¬í˜„ (5 steps)
  â–¡ Firestore ì—°ë™

Day 3-4:
  â–¡ ì˜ì—… ìŠ¹ì¸ ìš”ì²­ ê¸°ëŠ¥
  â–¡ ê´€ë¦¬ì í™”ë©´ ìˆ˜ì •

Day 5:
  â–¡ ì „ì²´ í”Œë¡œìš° í…ŒìŠ¤íŠ¸
```

## ğŸŸ¢ Week 4: ì½”ë“œ í’ˆì§ˆ
```
Day 1-2:
  â–¡ í•˜ë“œì½”ë”© ë¬¸ìì—´ l10n ë§ˆì´ê·¸ë ˆì´ì…˜

Day 3-4:
  â–¡ Null safety, deprecated ìˆ˜ì •
  â–¡ í…ŒìŠ¤íŠ¸ ì»¤ë²„ë¦¬ì§€ ê°œì„ 

Day 5:
  â–¡ ìµœì¢… í…ŒìŠ¤íŠ¸ ë° ë°°í¬
```

---

# ğŸ“ í•µì‹¬ íŒŒì¼ ê²½ë¡œ

## ì¸ì¦
```
lib/features/auth/data/auth_service.dart
lib/features/auth/data/web_auth_helper.dart
lib/features/auth/presentation/login_screen.dart
lib/features/auth/presentation/oauth_callback_screen.dart
functions/index.js
```

## ì‚¬ì¥ë‹˜ ëŒ€ì‹œë³´ë“œ
```
lib/features/owner_dashboard/presentation/owner_dashboard_screen.dart
lib/features/owner_dashboard/presentation/widgets/
```

## ê´€ë¦¬ì
```
lib/features/admin/presentation/admin_screen.dart
lib/features/admin/presentation/admin_dashboard_screen.dart
```

## ë°ì´í„°
```
lib/scripts/migrate_mock_data.dart
lib/features/truck_list/domain/truck.dart
lib/features/truck_list/data/truck_repository.dart
```

---

# âœ… ì™„ë£Œ ì²´í¬ë¦¬ìŠ¤íŠ¸

## Phase 0: ì¦‰ì‹œ ìˆ˜ì •
- [ ] ë„¤ì´ë²„ ë¡œê·¸ì¸ í…ŒìŠ¤íŠ¸ ë° ìˆ˜ì • (ìˆ˜ë™ í™•ì¸ í•„ìš”)
- [ ] êµ¬ê¸€ ë¡œê·¸ì¸ Firebase Console í™•ì¸ (ìˆ˜ë™ í™•ì¸ í•„ìš”)
- [x] dart:html deprecated ë§ˆì´ê·¸ë ˆì´ì…˜ âœ… (2026-01-01 22:07)

## Phase 1: ë°ì´í„° ì´ˆê¸°í™”
- [ ] Firebase Auth ê³„ì • ì •ë¦¬ (ìˆ˜ë™ ì‘ì—…)
- [ ] Firestore ì»¬ë ‰ì…˜ ì‚­ì œ (ìˆ˜ë™ ì‘ì—…)
- [ ] í…ŒìŠ¤íŠ¸ ê³„ì • ìƒì„± (4ê°œ) (ìˆ˜ë™ ì‘ì—…)
- [ ] í…ŒìŠ¤íŠ¸ íŠ¸ëŸ­ ë°ì´í„° ìƒì„± (3ê°œ)

## Phase 2: ëŒ€ì‹œë³´ë“œ ê°œì„ 
- [x] BottomNavigationBar ì¶”ê°€ âœ… (2026-01-01 22:21)
- [x] í™ˆ íƒ­ êµ¬í˜„ âœ…
- [x] ì£¼ë¬¸ íƒ­ ì¹¸ë°˜ ë³´ë“œ âœ… (ì´ë¯¸ êµ¬í˜„ë¨)
- [x] í†µê³„/ë”ë³´ê¸° íƒ­ âœ… (ì´ë¯¸ êµ¬í˜„ë¨)

## Phase 3: ì˜¨ë³´ë”©
- [x] 5ë‹¨ê³„ ì˜¨ë³´ë”© í™”ë©´ âœ… (2026-01-02)
- [x] Firestore ì—°ë™ âœ…
- [x] ì§„í–‰ ìƒíƒœ ì €ì¥ âœ…

## Phase 4: ì˜ì—… ìŠ¹ì¸
- [x] business_approvals ì»¬ë ‰ì…˜ âœ… (2026-01-01 22:27)
- [x] ê´€ë¦¬ì ìŠ¹ì¸ í™”ë©´ âœ… (2026-01-01 22:47)
- [x] ì‚¬ì¥ë‹˜ ëŒ€ì‹œë³´ë“œ ë°°ë„ˆ âœ…

## Phase 5: ì½”ë“œ í’ˆì§ˆ
- [x] Firestore ë³´ì•ˆ ê·œì¹™ âœ… (2026-01-01 22:23)
- [ ] l10n ë§ˆì´ê·¸ë ˆì´ì…˜
- [ ] Deprecated ìˆ˜ì • (ì¶”ê°€ í•­ëª©)
- [ ] í…ŒìŠ¤íŠ¸ ì¶”ê°€

---

**ë§ˆì§€ë§‰ ì—…ë°ì´íŠ¸**: 2026-01-02 (Claude Code)
